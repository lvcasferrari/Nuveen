{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"requestNotificationPermissions\",{enumerable:!0,get:function(){return t}}),Object.defineProperty(_e,\"scheduleAlarmNotification\",{enumerable:!0,get:function(){return n}}),Object.defineProperty(_e,\"cancelAlarmNotification\",{enumerable:!0,get:function(){return o}}),Object.defineProperty(_e,\"cancelAllAlarmNotifications\",{enumerable:!0,get:function(){return c}});var e=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0]));try{e.setNotificationHandler({handleNotification:async()=>({shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!1})})}catch(e){console.log('Notification handler setup skipped (Expo Go limitation)')}const t=async()=>{try{const{status:t}=await e.getPermissionsAsync();let n=t;if('granted'!==t){const{status:t}=await e.requestPermissionsAsync();n=t}return'granted'===n}catch(e){return console.error('Error requesting notification permissions:',e),!1}},n=async t=>{try{if(await o(t.id),!t.enabled)return null;const[n,c]=t.time.split(':').map(Number),s=new Date,l=new Date;l.setHours(n,c,0,0),l<=s&&l.setDate(l.getDate()+1);const u={hour:n,minute:c,repeats:t.repeatDays.length>0};return await e.scheduleNotificationAsync({content:{title:t.name||'Nuveen Alarm',body:'Scan your NFC tag to stop the alarm',sound:'default',priority:e.AndroidNotificationPriority.MAX,data:{alarmId:t.id,requiresNFC:t.nfcRequired}},trigger:u})}catch(e){return console.error('Error scheduling alarm notification:',e),null}},o=async t=>{try{const n=(await e.getAllScheduledNotificationsAsync()).filter(e=>e.content.data?.alarmId===t);for(const t of n)await e.cancelScheduledNotificationAsync(t.identifier)}catch(e){console.error('Error canceling alarm notification:',e)}},c=async()=>{try{await e.cancelAllScheduledNotificationsAsync()}catch(e){console.error('Error canceling all notifications:',e)}}});","lineCount":1,"map":[[1,93,18,0,"Object"],[1,100,18,0,"defineProperty"],[1,115,18,0,"_e"],[1,118,18,0],[1,152,18,0,"enumerable"],[1,164,18,0],[1,166,18,0,"get"],[1,170,18,0],[1,188,18,0,"requestNotificationPermissions"],[1,189,18,0],[1,193,35,0,"Object"],[1,200,35,0,"defineProperty"],[1,215,35,0,"_e"],[1,218,35,0],[1,247,35,0,"enumerable"],[1,259,35,0],[1,261,35,0,"get"],[1,265,35,0],[1,283,35,0,"scheduleAlarmNotification"],[1,284,35,0],[1,288,81,0,"Object"],[1,295,81,0,"defineProperty"],[1,310,81,0,"_e"],[1,313,81,0],[1,340,81,0,"enumerable"],[1,352,81,0],[1,354,81,0,"get"],[1,358,81,0],[1,376,81,0,"cancelAlarmNotification"],[1,377,81,0],[1,381,96,0,"Object"],[1,388,96,0,"defineProperty"],[1,403,96,0,"_e"],[1,406,96,0],[1,437,96,0,"enumerable"],[1,449,96,0],[1,451,96,0,"get"],[1,455,96,0],[1,473,96,0,"cancelAllAlarmNotifications"],[1,474,96,0],[1,478,1,0],[1,482,1,0,"Notifications"],[1,485],[1,718,1,0,"_interopNamespace"],[1,719,1,0,"r"],[1,721,1,0,"_d"],[1,724,1,0],[1,729,6,0],[1,733,7,2,"Notifications"],[1,735,7,16,"setNotificationHandler"],[1,758,7,39],[1,759,8,4,"handleNotification"],[1,778,8,24,"async"],[1,788,8,24],[1,789,9,6,"shouldShowAlert"],[1,806,9,23],[1,808,10,6,"shouldPlaySound"],[1,825,10,23],[1,827,11,6,"shouldSetBadge"],[1,843,11,22],[1,848,14,0],[1,849,14,2],[1,855,14,9,"error"],[1,858,15,2,"console"],[1,866,15,10,"log"],[1,870,15,14],[1,928,16,0],[1,929,18,7],[1,935,18,13,"requestNotificationPermissions"],[1,937,18,46,"async"],[1,947,19,2],[1,951,20,4],[1,957,20,12,"status"],[1,964,20,20,"existingStatus"],[1,973,20,45,"Notifications"],[1,975,20,59,"getPermissionsAsync"],[1,997,21,4],[1,1001,21,8,"finalStatus"],[1,1003,21,22,"existingStatus"],[1,1005,23,4],[1,1008,23,27],[1,1020,23,8,"existingStatus"],[1,1022,23,38],[1,1023,24,6],[1,1029,24,12,"status"],[1,1036,24,14,"status"],[1,1045,24,31,"Notifications"],[1,1047,24,45,"requestPermissionsAsync"],[1,1073,25,6,"finalStatus"],[1,1075,25,20,"status"],[1,1076,26,4],[1,1077,28,4],[1,1083,28,27],[1,1095,28,11,"finalStatus"],[1,1096,29,2],[1,1097,29,4],[1,1103,29,11,"error"],[1,1106,31,4],[1,1113,30,4,"console"],[1,1121,30,12,"error"],[1,1127,30,18],[1,1172,30,64,"error"],[1,1176,31,11],[1,1177,32,2],[1,1180,35,13,"scheduleAlarmNotification"],[1,1182,35,41,"async"],[1,1192,36,2],[1,1196,40,4],[1,1205,38,10,"cancelAlarmNotification"],[1,1207,38,34,"alarm"],[1,1209,38,40,"id"],[1,1214,40,9,"alarm"],[1,1216,40,15,"enabled"],[1,1224,41,6],[1,1231,41,13],[1,1236,44,4],[1,1242,44,11,"hours"],[1,1244,44,18,"minutes"],[1,1247,44,29,"alarm"],[1,1249,44,35,"time"],[1,1254,44,40,"split"],[1,1260,44,46],[1,1265,44,51,"map"],[1,1269,44,55,"Number"],[1,1277,45,10,"now"],[1,1279,45,16],[1,1283,45,20,"Date"],[1,1288,46,10,"scheduledTime"],[1,1290,46,26],[1,1294,46,30,"Date"],[1,1299,47,4,"scheduledTime"],[1,1301,47,18,"setHours"],[1,1310,47,27,"hours"],[1,1312,47,34,"minutes"],[1,1314,47,43],[1,1316,47,46],[1,1319,50,8,"scheduledTime"],[1,1322,50,25,"now"],[1,1325,51,6,"scheduledTime"],[1,1327,51,20,"setDate"],[1,1335,51,28,"scheduledTime"],[1,1337,51,42,"getDate"],[1,1347,51,54],[1,1350,54,4],[1,1356,54,10,"trigger"],[1,1358,54,20],[1,1359,55,6,"hour"],[1,1364,55,12,"hours"],[1,1366,56,6,"minute"],[1,1373,56,14,"minutes"],[1,1375,57,6,"repeats"],[1,1383,57,15,"alarm"],[1,1385,57,21,"repeatDays"],[1,1396,57,32,"length"],[1,1403,57,41],[1,1406,74,4],[1,1419,60,33,"Notifications"],[1,1421,60,47,"scheduleNotificationAsync"],[1,1447,60,73],[1,1448,61,6,"content"],[1,1456,61,15],[1,1457,62,8,"title"],[1,1463,62,15,"alarm"],[1,1465,62,21,"name"],[1,1471,62,29],[1,1486,63,8,"body"],[1,1491,63,14],[1,1529,64,8,"sound"],[1,1535,64,15],[1,1545,65,8,"priority"],[1,1554,65,18,"Notifications"],[1,1556,65,32,"AndroidNotificationPriority"],[1,1584,65,60,"MAX"],[1,1588,66,8,"data"],[1,1593,66,14],[1,1594,67,10,"alarmId"],[1,1602,67,19,"alarm"],[1,1604,67,25,"id"],[1,1607,68,10,"requiresNFC"],[1,1619,68,23,"alarm"],[1,1621,68,29,"nfcRequired"],[1,1635,71,6,"trigger"],[1,1643,71,15,"trigger"],[1,1646,75,2],[1,1647,75,4],[1,1653,75,11,"error"],[1,1656,77,4],[1,1663,76,4,"console"],[1,1671,76,12,"error"],[1,1677,76,18],[1,1716,76,58,"error"],[1,1719,77,11],[1,1723,78,2],[1,1726,81,13,"cancelAlarmNotification"],[1,1728,81,39,"async"],[1,1738,82,2],[1,1742,83,4],[1,1748,84,10,"alarmsToCancel"],[1,1757,83,28,"Notifications"],[1,1759,83,42,"getAllScheduledNotificationsAsync"],[1,1796,84,37,"filter"],[1,1803,85,6,"n"],[1,1806,85,11,"n"],[1,1808,85,13,"content"],[1,1816,85,21,"data"],[1,1822,85,27,"alarmId"],[1,1832,85,39,"alarmId"],[1,1835,88,4],[1,1839,88,9],[1,1845,88,15,"notification"],[1,1850,88,31,"alarmsToCancel"],[1,1858,89,12,"Notifications"],[1,1860,89,26,"cancelScheduledNotificationAsync"],[1,1893,89,59,"notification"],[1,1895,89,72,"identifier"],[1,1906,91,2],[1,1907,91,4],[1,1913,91,11,"error"],[1,1916,92,4,"console"],[1,1924,92,12,"error"],[1,1930,92,18],[1,1968,92,57,"error"],[1,1970,93,2],[1,1973,96,13,"cancelAllAlarmNotifications"],[1,1975,96,43,"async"],[1,1985,97,2],[1,1995,98,10,"Notifications"],[1,1997,98,24,"cancelAllScheduledNotificationsAsync"],[1,2035,99,2],[1,2036,99,4],[1,2042,99,11,"error"],[1,2045,100,4,"console"],[1,2053,100,12,"error"],[1,2059,100,18],[1,2096,100,56,"error"],[1,2098,101,2],[1,2100,102,2],[1,2103]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","requestNotificationPermissions","scheduleAlarmNotification","cancelAlarmNotification","scheduled.filter$argument_0","cancelAllAlarmNotifications"],"mappings":"AAA;wBCO;MDI;8CEM;CFe;yCGE;CH4C;uCIE;MCI,wCD;CJS;2CME;CNM"},"hasCjsExports":false},"type":"js/module"}]}
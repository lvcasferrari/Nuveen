{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":163,"index":253}}],"key":"rswhtWQFlk40P6/ZSXiz3NZSC0I=","exportNames":["*"],"imports":1}},{"name":"../utils/notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":254},"end":{"line":3,"column":92,"index":346}}],"key":"aVeisx2Z94fcYyi/wFP2EZDu7Y0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AlarmContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AlarmProvider\", {\n    enumerable: true,\n    get: function () {\n      return AlarmProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAlarms\", {\n    enumerable: true,\n    get: function () {\n      return useAlarms;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsStorage = require(_dependencyMap[1], \"../utils/storage\");\n  var _utilsNotifications = require(_dependencyMap[2], \"../utils/notifications\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AlarmContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AlarmProvider = ({\n    children\n  }) => {\n    const [alarms, setAlarms] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const refreshAlarms = async () => {\n      try {\n        const loadedAlarms = await (0, _utilsStorage.getAlarms)();\n        setAlarms(loadedAlarms);\n      } catch (error) {\n        console.error('Error refreshing alarms:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      refreshAlarms();\n    }, []);\n    const addAlarm = async alarm => {\n      try {\n        await (0, _utilsStorage.addAlarm)(alarm);\n        await (0, _utilsNotifications.scheduleAlarmNotification)(alarm);\n        await refreshAlarms();\n      } catch (error) {\n        console.error('Error adding alarm:', error);\n      }\n    };\n    const updateAlarm = async alarm => {\n      try {\n        await (0, _utilsStorage.updateAlarm)(alarm);\n        await (0, _utilsNotifications.scheduleAlarmNotification)(alarm);\n        await refreshAlarms();\n      } catch (error) {\n        console.error('Error updating alarm:', error);\n      }\n    };\n    const deleteAlarm = async id => {\n      try {\n        await (0, _utilsStorage.deleteAlarm)(id);\n        await (0, _utilsNotifications.cancelAlarmNotification)(id);\n        await refreshAlarms();\n      } catch (error) {\n        console.error('Error deleting alarm:', error);\n      }\n    };\n    const toggleAlarm = async id => {\n      try {\n        const alarm = alarms.find(a => a.id === id);\n        if (alarm) {\n          const updatedAlarm = {\n            ...alarm,\n            enabled: !alarm.enabled\n          };\n          await updateAlarm(updatedAlarm);\n        }\n      } catch (error) {\n        console.error('Error toggling alarm:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AlarmContext.Provider, {\n      value: {\n        alarms,\n        loading,\n        addAlarm,\n        updateAlarm,\n        deleteAlarm,\n        toggleAlarm,\n        refreshAlarms\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this);\n  };\n  const useAlarms = () => {\n    const context = (0, _react.useContext)(AlarmContext);\n    if (!context) {\n      throw new Error('useAlarms must be used within AlarmProvider');\n    }\n    return context;\n  };\n});","lineCount":108,"map":[[8,2,17,0,"Object"],[8,8,17,0],[8,9,17,0,"defineProperty"],[8,23,17,0],[8,24,17,0,"exports"],[8,31,17,0],[9,4,17,0,"enumerable"],[9,14,17,0],[10,4,17,0,"get"],[10,7,17,0],[10,18,17,0,"get"],[10,19,17,0],[11,6,17,0],[11,13,17,0,"AlarmProvider"],[11,26,17,0],[12,4,17,0],[13,2,17,0],[14,2,85,0,"Object"],[14,8,85,0],[14,9,85,0,"defineProperty"],[14,23,85,0],[14,24,85,0,"exports"],[14,31,85,0],[15,4,85,0,"enumerable"],[15,14,85,0],[16,4,85,0,"get"],[16,7,85,0],[16,18,85,0,"get"],[16,19,85,0],[17,6,85,0],[17,13,85,0,"useAlarms"],[17,22,85,0],[18,4,85,0],[19,2,85,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_utilsStorage"],[21,19,2,0],[21,22,2,0,"require"],[21,29,2,0],[21,30,2,0,"_dependencyMap"],[21,44,2,0],[22,2,3,0],[22,6,3,0,"_utilsNotifications"],[22,25,3,0],[22,28,3,0,"require"],[22,35,3,0],[22,36,3,0,"_dependencyMap"],[22,50,3,0],[23,2,3,92],[23,6,3,92,"_reactJsxDevRuntime"],[23,25,3,92],[23,28,3,92,"require"],[23,35,3,92],[23,36,3,92,"_dependencyMap"],[23,50,3,92],[24,2,15,0],[24,8,15,6,"AlarmContext"],[24,20,15,18],[24,36,15,21],[24,40,15,21,"createContext"],[24,46,15,34],[24,47,15,34,"createContext"],[24,60,15,34],[24,62,15,65,"undefined"],[24,71,15,74],[24,72,15,75],[25,2,17,7],[25,8,17,13,"AlarmProvider"],[25,21,17,26],[25,24,17,29,"AlarmProvider"],[25,25,17,30],[26,4,17,32,"children"],[27,2,17,66],[27,3,17,67],[27,8,17,72],[28,4,18,2],[28,10,18,8],[28,11,18,9,"alarms"],[28,17,18,15],[28,19,18,17,"setAlarms"],[28,28,18,26],[28,29,18,27],[28,32,18,30],[28,36,18,30,"useState"],[28,42,18,38],[28,43,18,38,"useState"],[28,51,18,38],[28,53,18,48],[28,55,18,50],[28,56,18,51],[29,4,19,2],[29,10,19,8],[29,11,19,9,"loading"],[29,18,19,16],[29,20,19,18,"setLoading"],[29,30,19,28],[29,31,19,29],[29,34,19,32],[29,38,19,32,"useState"],[29,44,19,40],[29,45,19,40,"useState"],[29,53,19,40],[29,55,19,41],[29,59,19,45],[29,60,19,46],[30,4,21,2],[30,10,21,8,"refreshAlarms"],[30,23,21,21],[30,26,21,24],[30,32,21,24,"refreshAlarms"],[30,33,21,24],[30,38,21,36],[31,6,22,4],[31,10,22,8],[32,8,23,6],[32,14,23,12,"loadedAlarms"],[32,26,23,24],[32,29,23,27],[32,35,23,33],[32,39,23,33,"getAlarms"],[32,52,23,42],[32,53,23,42,"getAlarms"],[32,62,23,42],[32,64,23,43],[32,65,23,44],[33,8,24,6,"setAlarms"],[33,17,24,15],[33,18,24,16,"loadedAlarms"],[33,30,24,28],[33,31,24,29],[34,6,25,4],[34,7,25,5],[34,8,25,6],[34,15,25,13,"error"],[34,20,25,18],[34,22,25,20],[35,8,26,6,"console"],[35,15,26,13],[35,16,26,14,"error"],[35,21,26,19],[35,22,26,20],[35,48,26,46],[35,50,26,48,"error"],[35,55,26,53],[35,56,26,54],[36,6,27,4],[36,7,27,5],[36,16,27,14],[37,8,28,6,"setLoading"],[37,18,28,16],[37,19,28,17],[37,24,28,22],[37,25,28,23],[38,6,29,4],[39,4,30,2],[39,5,30,3],[40,4,32,2],[40,8,32,2,"useEffect"],[40,14,32,11],[40,15,32,11,"useEffect"],[40,24,32,11],[40,26,32,12],[40,32,32,18],[41,6,33,4,"refreshAlarms"],[41,19,33,17],[41,20,33,18],[41,21,33,19],[42,4,34,2],[42,5,34,3],[42,7,34,5],[42,9,34,7],[42,10,34,8],[43,4,36,2],[43,10,36,8,"addAlarm"],[43,18,36,16],[43,21,36,19],[43,27,36,26,"alarm"],[43,32,36,38],[43,36,36,43],[44,6,37,4],[44,10,37,8],[45,8,38,6],[45,14,38,12],[45,18,38,12,"addAlarmStorage"],[45,31,38,27],[45,32,38,27,"addAlarm"],[45,40,38,27],[45,42,38,28,"alarm"],[45,47,38,33],[45,48,38,34],[46,8,39,6],[46,14,39,12],[46,18,39,12,"scheduleAlarmNotification"],[46,37,39,37],[46,38,39,37,"scheduleAlarmNotification"],[46,63,39,37],[46,65,39,38,"alarm"],[46,70,39,43],[46,71,39,44],[47,8,40,6],[47,14,40,12,"refreshAlarms"],[47,27,40,25],[47,28,40,26],[47,29,40,27],[48,6,41,4],[48,7,41,5],[48,8,41,6],[48,15,41,13,"error"],[48,20,41,18],[48,22,41,20],[49,8,42,6,"console"],[49,15,42,13],[49,16,42,14,"error"],[49,21,42,19],[49,22,42,20],[49,43,42,41],[49,45,42,43,"error"],[49,50,42,48],[49,51,42,49],[50,6,43,4],[51,4,44,2],[51,5,44,3],[52,4,46,2],[52,10,46,8,"updateAlarm"],[52,21,46,19],[52,24,46,22],[52,30,46,29,"alarm"],[52,35,46,41],[52,39,46,46],[53,6,47,4],[53,10,47,8],[54,8,48,6],[54,14,48,12],[54,18,48,12,"updateAlarmStorage"],[54,31,48,30],[54,32,48,30,"updateAlarm"],[54,43,48,30],[54,45,48,31,"alarm"],[54,50,48,36],[54,51,48,37],[55,8,49,6],[55,14,49,12],[55,18,49,12,"scheduleAlarmNotification"],[55,37,49,37],[55,38,49,37,"scheduleAlarmNotification"],[55,63,49,37],[55,65,49,38,"alarm"],[55,70,49,43],[55,71,49,44],[56,8,50,6],[56,14,50,12,"refreshAlarms"],[56,27,50,25],[56,28,50,26],[56,29,50,27],[57,6,51,4],[57,7,51,5],[57,8,51,6],[57,15,51,13,"error"],[57,20,51,18],[57,22,51,20],[58,8,52,6,"console"],[58,15,52,13],[58,16,52,14,"error"],[58,21,52,19],[58,22,52,20],[58,45,52,43],[58,47,52,45,"error"],[58,52,52,50],[58,53,52,51],[59,6,53,4],[60,4,54,2],[60,5,54,3],[61,4,56,2],[61,10,56,8,"deleteAlarm"],[61,21,56,19],[61,24,56,22],[61,30,56,29,"id"],[61,32,56,39],[61,36,56,44],[62,6,57,4],[62,10,57,8],[63,8,58,6],[63,14,58,12],[63,18,58,12,"deleteAlarmStorage"],[63,31,58,30],[63,32,58,30,"deleteAlarm"],[63,43,58,30],[63,45,58,31,"id"],[63,47,58,33],[63,48,58,34],[64,8,59,6],[64,14,59,12],[64,18,59,12,"cancelAlarmNotification"],[64,37,59,35],[64,38,59,35,"cancelAlarmNotification"],[64,61,59,35],[64,63,59,36,"id"],[64,65,59,38],[64,66,59,39],[65,8,60,6],[65,14,60,12,"refreshAlarms"],[65,27,60,25],[65,28,60,26],[65,29,60,27],[66,6,61,4],[66,7,61,5],[66,8,61,6],[66,15,61,13,"error"],[66,20,61,18],[66,22,61,20],[67,8,62,6,"console"],[67,15,62,13],[67,16,62,14,"error"],[67,21,62,19],[67,22,62,20],[67,45,62,43],[67,47,62,45,"error"],[67,52,62,50],[67,53,62,51],[68,6,63,4],[69,4,64,2],[69,5,64,3],[70,4,66,2],[70,10,66,8,"toggleAlarm"],[70,21,66,19],[70,24,66,22],[70,30,66,29,"id"],[70,32,66,39],[70,36,66,44],[71,6,67,4],[71,10,67,8],[72,8,68,6],[72,14,68,12,"alarm"],[72,19,68,17],[72,22,68,20,"alarms"],[72,28,68,26],[72,29,68,27,"find"],[72,33,68,31],[72,34,68,32,"a"],[72,35,68,33],[72,39,68,37,"a"],[72,40,68,38],[72,41,68,39,"id"],[72,43,68,41],[72,48,68,46,"id"],[72,50,68,48],[72,51,68,49],[73,8,69,6],[73,12,69,10,"alarm"],[73,17,69,15],[73,19,69,17],[74,10,70,8],[74,16,70,14,"updatedAlarm"],[74,28,70,26],[74,31,70,29],[75,12,70,31],[75,15,70,34,"alarm"],[75,20,70,39],[76,12,70,41,"enabled"],[76,19,70,48],[76,21,70,50],[76,22,70,51,"alarm"],[76,27,70,56],[76,28,70,57,"enabled"],[77,10,70,65],[77,11,70,66],[78,10,71,8],[78,16,71,14,"updateAlarm"],[78,27,71,25],[78,28,71,26,"updatedAlarm"],[78,40,71,38],[78,41,71,39],[79,8,72,6],[80,6,73,4],[80,7,73,5],[80,8,73,6],[80,15,73,13,"error"],[80,20,73,18],[80,22,73,20],[81,8,74,6,"console"],[81,15,74,13],[81,16,74,14,"error"],[81,21,74,19],[81,22,74,20],[81,45,74,43],[81,47,74,45,"error"],[81,52,74,50],[81,53,74,51],[82,6,75,4],[83,4,76,2],[83,5,76,3],[84,4,78,2],[84,24,79,4],[84,28,79,4,"_reactJsxDevRuntime"],[84,47,79,4],[84,48,79,4,"jsxDEV"],[84,54,79,4],[84,56,79,5,"AlarmContext"],[84,68,79,17],[84,69,79,18,"Provider"],[84,77,79,26],[85,6,79,27,"value"],[85,11,79,32],[85,13,79,34],[86,8,79,36,"alarms"],[86,14,79,42],[87,8,79,44,"loading"],[87,15,79,51],[88,8,79,53,"addAlarm"],[88,16,79,61],[89,8,79,63,"updateAlarm"],[89,19,79,74],[90,8,79,76,"deleteAlarm"],[90,19,79,87],[91,8,79,89,"toggleAlarm"],[91,19,79,100],[92,8,79,102,"refreshAlarms"],[93,6,79,116],[93,7,79,118],[94,6,79,118,"children"],[94,14,79,118],[94,16,80,7,"children"],[95,4,80,15],[96,6,80,15,"fileName"],[96,14,80,15],[96,16,80,15,"_jsxFileName"],[96,28,80,15],[97,6,80,15,"lineNumber"],[97,16,80,15],[98,6,80,15,"columnNumber"],[98,18,80,15],[99,4,80,15],[99,11,81,27],[99,12,81,28],[100,2,83,0],[100,3,83,1],[101,2,85,7],[101,8,85,13,"useAlarms"],[101,17,85,22],[101,20,85,25,"useAlarms"],[101,21,85,25],[101,26,85,31],[102,4,86,2],[102,10,86,8,"context"],[102,17,86,15],[102,20,86,18],[102,24,86,18,"useContext"],[102,30,86,28],[102,31,86,28,"useContext"],[102,41,86,28],[102,43,86,29,"AlarmContext"],[102,55,86,41],[102,56,86,42],[103,4,87,2],[103,8,87,6],[103,9,87,7,"context"],[103,16,87,14],[103,18,87,16],[104,6,88,4],[104,12,88,10],[104,16,88,14,"Error"],[104,21,88,19],[104,22,88,20],[104,67,88,65],[104,68,88,66],[105,4,89,2],[106,4,90,2],[106,11,90,9,"context"],[106,18,90,16],[107,2,91,0],[107,3,91,1],[108,0,91,2],[108,3]],"functionMap":{"names":["<global>","AlarmProvider","refreshAlarms","useEffect$argument_0","addAlarm","updateAlarm","deleteAlarm","toggleAlarm","alarms.find$argument_0","useAlarms"],"mappings":"AAA;6BCgB;wBCI;GDS;YEE;GFE;mBGE;GHQ;sBIE;GJQ;sBKE;GLQ;sBME;gCCE,gBD;GNQ;CDO;yBSE;CTM"},"hasCjsExports":false},"type":"js/module"}]}